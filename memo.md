memo

# やることメモ

updated at 2021.12.24 0:15

## 優先度 ★★★★★

### 友達削除機能の実装

- とりあえず friendList 内に搭載
- とりあえず、削除した後は互いに request.rejected に入れて表示されないようにする

### 友達初登録時、チャット画面を開くとエラーが出る現象の修正

- onSnapShot を別途登録する必要があるところを、登録処理を挟んでいないのが原因
- registerOnSnapshot を作るか

### 「見つける」関連の機能とアカウントのデータ構造の変更

- 周囲から半径 10km 以内のユーザーを表示するようにする
- アカウントデータで「現在地」を保持するようにする
- ただし、リアルタイムでの現在地取得は行わず、必要があればマイページから更新できるようにする
- マイページの設定項目を追加

### 決済機能の追加

- 決済機能部分を作成したい
- 試験運用版にはつけないほうがいいかも...という気がする。製品の品質が保証できてないのに金取れないと思う

### ルーティングしたい

- 一応、スワイプでの戻る操作とかに対応したいので、ルーティングしたい
- react-router の使用を検討

### パフォーマンスチューニングとコードのメンテナンス性アップ

- 現状、基本的に state と Memo しか使っていないので、適宜 useCallback、state の最適化などを施す
- 特に authState 周りは、App コンポーネントのラッパーコンポーネントを作成してそこで管理したほうがいいかもしれない
- Menu コンポーネントを一時的に非表示にする機能が欲しい：chat コンポーネントなど特定コンポーネントで表示したくない
- firebase.handler と App.js で firestore 周りの functions がばらけているので、統一するかいっそ App コンポーネント内に保存してしまうか考えたい

* redux, context の使用を検討
* state >> reducer への置き換えを検討

### エラーハンドリング

- デバッグに手が回ってませんので、エラー多発。
- エラーが発生したら、ログを firebase 上に記録し、モーダル上に視覚的に表示するなど

### 通知機能の実装

- バッチを表示する機能、通知状態を表示する機能
- チャット機能、リクエスト送受信機能等、FriendList 周りだけで良いと思う

### フレンドの削除機能の実装

- フレンド削除後は request.rejected に移動して二度と表示されないようにする？

### スタイルの調整

- 全体的にスタイルが適当なので、調整する

### firebase hosting によるサーバー上でのテスト運用

- deploy 失敗してるよね？ということで build 周りの調整を行う

## 優先度 ★★★★☆

### PWA 化の実験

- 優先度 Max がすべて終わったら PWA 化を行う
- cloud messaging 等を用いて、スマホ・PC 本体への通知機能を実装

### 視覚的なナビの実装

- 各操作完了後、特定条件下などで、ユーザーの行動をサポートするモーダルを表示
- モーダル機構自体は既に実装しているので、特定状況で表示するコードを追加する

## 優先度 ★★★☆☆

### エラーログの自動記録機能
